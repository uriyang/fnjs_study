<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Todo - Functional JS</title>
  <link rel="stylesheet" href="./todo.css">
  <script src="./_.js"></script>
</head>
<body>
<div id="app">
  <div class="header">
    <div class="container container--relative">
      <input type="text" class="header__input">
      <button type="button" class="header__button">&#x02935;</button>
    </div>
  </div>
  <div class="section">
    <div class="container container--relative">
      <ul class="section__todolist">
        <li class="section__todoitem">
          <span class="todo-message"></span>
          <button type="button" class="todo-button">&#x02A2F;</button>
        </li>
      </ul>
    </div>
  </div>
</div>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script>
var li = makeElement('LI', 'section__todoitem')
var span = makeElement('SPAN', 'todo-message')
var button = makeElement('BUTTON', 'todo-button', 'x');

var tagset = makeTagSet(li, span, button);
var todo_item = makeTodoItem(tagset);

$('.section__todolist').append(todo_item);

function makeElement(tag, cname, text) {
  if (!document) { return undefined; }
  var node = document.createElement(tag);
  node.className(cname);
  if (arguments == 3) {
    node.appendChild(document.createTextNode(text));
  }
  return node;
}

function makeTagSet() {
  var set = [];
  var args = arguments;
  _each(args, function (val) { set.push(val) });
  return set;
}

// 0: 부모 태그, 1 ~: 자식 태그
function makeTodoItem(tagset) {
  var parent = tagset[0];
  var child = _rest(tagset);

  _each(child, function (node) { parent.appendChild(node) });
  return parent;
}
</script>
</body>
</html>